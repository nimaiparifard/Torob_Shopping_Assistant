extracting_name_system_prompt = (
"""
[دستور سیستم: استخراج نام محصول به زبان فارسی]

هدف:
از روی یک متن فارسیِ سفارش/درخواست/جست‌وجو، «نام دقیق محصول» را به‌صورت یک «عبارت اسمی فشرده» استخراج کن؛ عبارتی که هویت محصول را مشخص می‌کند (نوع کالا + ویژگی‌های کلیدی تمایزدهنده).

تعریف «نام محصول»:
- یک عبارت اسمی کوتاه و طبیعی فارسی شامل هستهٔ کالا + فقط ویژگی‌های ضروریِ تمایزدهنده (برند/مدل، کد کالا/طرح، اندازه/ابعاد، رنگ، جنس/متریال، طرح/الگو، فرم/شکل، فناوری/رزولوشن).
- نمونه: «پرده زبرا طرح گل‌های صورتی کد X502»، «تلویزیون ال‌جی مدل UT80006 سایز ۵۰ اینچ Ultra HD 4K LED».

قوانین استخراج:
1) فقط یک محصول برگردان. اگر چند مورد آمده، موردِ صریحاً خواسته‌شده/اول/برجسته را انتخاب کن.
2) مؤلفه‌های غیرضروریِ توصیفی (اهداف/احساسات/مناسبت‌ها/تعداد/قیمت/شرایط ارسال/احتمال/تردید) را حذف کن.
3) نشانه‌های تعداد (۱ عدد، یک جفت، ست ۶ تایی...) را حذف کن مگر اینکه جزئی از نام مرسوم کالا باشد («ست ۲۴ پارچه» به‌عنوان مشخصهٔ رسمی قابل قبول است).
4) نام برند/مدل/کد را حفظ کن. اگر کد طرح/محصول آمده، در انتهای نام بیاور (با «کد ...»).
5) اندازه/ابعاد/رنگ/جنس را فقط در صورت تمایز معنادار نگه‌دار.
6) نگارش فارسی را رعایت کن (ارقام فارسی یا همان‌طور که در ورودی آمده)، نیم‌فاصله و علائم اختصاری رایج مجاز است.
7) اگر هیچ محصولِ معتبری بیان نشده بود، خروجی را رشتهٔ خالی "" برگردان.
8) از بازنویسی خلاقانه، ترجمهٔ برندها، یا افزودن اطلاعات جدید خودداری کن.
9) خروجی نهایی باید فقط «نام محصول» باشد؛ بدون توضیح اضافی، گیومه، براکت، برچسب، یا نقطهٔ پایانی.

راهنمای تشخیص هستهٔ کالا:
- اگر چند اسم کالا وجود دارد، اولویت با (الف) کالای درخواست‌شده برای خرید/سفارش، سپس (ب) اولین کالای ذکرشده با بیشترین جزئیات.
- برای گل/ترکیب گل: نام ظرف (باکس/باکس قلبی/فلاورباکس/دسته گل) + گل‌های اصلی + رنگ شاخص + در صورت وجود شکل/طرح ظرف.
- برای پرده/فرشینه/نساجی: نوع کالا + طرح/الگو + کد/مدل + ابعاد مهم (در صورت تمایز).
- برای لوازم الکترونیک: برند + مدل + اندازهٔ صفحه/ظرفیت + فناوری کلیدی.

الگوهای حذف/حفظ:
- حذف: «لطفاً»، «می‌خواستم»، «قیمت»، «برای هدیه»، «ممکنه»، «اگر موجوده»، «ارسال»، «تخفیف»، «به نظرتون».
- حفظ: «مدل ...»، «کد ...»، «سایز ...»، «ارتفاع ...»، «طرح ...»، «رنگ ...»، «Ultra HD 4K»، «LED»، «سه شاخه».

قالب خروجی:
- فقط یک رشتهٔ متنی: نام محصولِ استخراج‌شده.
- مثال‌های خوبِ خروجی:
  - «فلاورباکس پر از گل‌های ارکیده بنفش و رز قرمز»
  - «پرده با طرح چتر و برج ایفل کد W4838»
  - «تلویزیون ال‌جی مدل UT80006 سایز ۵۰ اینچ Ultra HD 4K LED»
  - «شمع دکوری استوانه‌ای رنگ طلایی با ارتفاع ۲۰ سانتی‌متر»
  - «فرشینه نمدی پشت ترمزدار عرض ۱/۵ متر طرح اتاق کودک کد ۱۲»

قاعدهٔ یکتایی:
- اگر ورودی مبهم است ولی یک نام محصول محتمل با ویژگی‌های کافی وجود دارد، همان را برگردان؛ در غیراین‌صورت "".
"""
)


extracting_name_samples = [
    {
        "input": "درخواست محصول فلاور بگ شامل رز سفید، آفتابگردان، عروس و ورونیکا.",
        "extracted_name": "فلاور بگ شامل رز سفید، آفتابگردان، عروس و ورونیکا."
    },
    {
        "input": "پرده با طرح چتر و برج ایفل و کد W4838 را می‌خواستم.",
        "extracted_name": "پرده با طرح چتر و برج ایفل و کد W4838"
    },
    {
        "input": "من دنبال فرشینه مخمل با ترمزگیر و عرض ۱ متر، طرح آشپزخانه با کد ۰۴ هستم.",
        "extracted_name": "فرشینه مخمل با ترمزگیر و عرض ۱ متر، طرح آشپزخانه با کد ۰۴"
    },
    {
        "input": "شمع تزیینی شمعدونی پیچی سبز با ارتفاع ۲۵ سانتی‌متر که ۱ عددی است را می‌خواهم.",
        "extracted_name": "شمع تزیینی شمعدونی پیچی سبز با ارتفاع ۲۵ سانتی‌متر"
    },
    {
        "input": "پرده‌ای با طرح درختان پاییزی و کد F927 می‌خواستم.",
        "extracted_name": "پرده‌ای با طرح درختان پاییزی و کد F927"
    },
    {
        "input": "به دنبال یک فرشینه نمدی با پشت ترمزدار، عرض ۱/۵ متر و طرح اتاق کودک با کد ۱۲ هستم.",
        "extracted_name": "فرشینه نمدی با پشت ترمزدار، عرض ۱/۵ متر و طرح اتاق کودک با کد ۱۲"
    },
    {
        "input": "یک شمع استوانه‌ای قرمز رنگ با ارتفاع ۳۰ سانتی‌متر که تکی عرضه می‌شود، می‌خواهم.",
        "extracted_name": "شمع استوانه‌ای قرمز رنگ با ارتفاع ۳۰ سانتی‌متر"
    },
    {
        "input": "برای هدیه نیاز به فلاورباکس پر از گل‌های ارکیده بنفش و رز قرمز دارم.",
        "extracted_name": "فلاورباکس پر از گل‌های ارکیده بنفش و رز قرمز"
    },
    {
        "input": "می‌خواستم پرده‌ای با طرح گل‌های آبی و زمینه روشن، کد M204، سفارش بدهم.",
        "extracted_name": "پرده‌ای با طرح گل‌های آبی و زمینه روشن، کد M204"
    },
    {
        "input": "یک شمع دکوری استوانه‌ای رنگ طلایی با ارتفاع ۲۰ سانتی‌متر می‌خواهم تهیه کنم.",
        "extracted_name": "شمع دکوری استوانه‌ای رنگ طلایی با ارتفاع ۲۰ سانتی‌متر"
    },
    {
        "input": "سفارش من شامل باکس گل رز صورتی، میخک سفید و برگ‌های تزئینی یوکالیپتوس است.",
        "extracted_name": "شامل باکس گل رز صورتی، میخک سفید و برگ‌های تزئینی یوکالیپتوس"
    },
    {
        "input": "پرده‌ای با چاپ منظره کوهستانی و کد D771 می‌خواستم خریداری کنم.",
        "extracted_name": "پرده‌ای با چاپ منظره کوهستانی و کد D771"
    },
    {
        "input": "تلویزیون ال جی مدل UT80006 سایز ۵۰ اینچ Ultra HD 4K LED می خوام بخرم.",
        "extracted_name": "تلویزیون ال جی مدل UT80006 سایز ۵۰ اینچ Ultra HD 4K LED"
    },
    {
        "input": "یه گلدون سرامیکی سفید براق با ارتفاع ۱۵ سانتی‌متر لازم دارم.",
        "extracted_name": "گلدون سرامیکی سفید براق با ارتفاع ۱۵ سانتی‌متر"
    },
    {
        "input": "آیا می‌تونید یک ست ملحفه پنبه‌ای طرح گل‌های ریز با کد B301 برام بیارید؟",
        "extracted_name": "ست ملحفه پنبه‌ای طرح گل‌های ریز با کد B301"
    },
    {
        "input": "من به دنبال ساعت دیواری چوبی قهوه‌ای با قطر ۴۰ سانتی‌متر هستم.",
        "extracted_name": "ساعت دیواری چوبی قهوه‌ای با قطر ۴۰ سانتی‌متر"
    },
    {
        "input": "یک ست قاشق و چنگال استیل براق ۲۴ پارچه می‌خواستم سفارش بدم.",
        "extracted_name": "ست قاشق و چنگال استیل براق ۲۴ پارچه"
    },
    {
        "input": "به فکر خریدن آباژور رومیزی طرح کلاسیک با کلاهک کرم رنگ هستم.",
        "extracted_name": "آباژور رومیزی طرح کلاسیک با کلاهک کرم رنگ"
    },
    {
        "input": "می‌خواستم یک دسته گل شامل رز زرد، لیلیوم سفید و داوودی صورتی تهیه کنم.",
        "extracted_name": "دسته گل شامل رز زرد، لیلیوم سفید و داوودی صورتی"
    },
    {
        "input": "یک کوسن مخملی مربع به رنگ آبی نفتی می‌خواهم.",
        "extracted_name": "کوسن مخملی مربع به رنگ آبی نفتی"
    },
    {
        "input": "لطفاً برام یک فرش ماشینی ۶ متری با طرح افشان و زمینه کرم بیارید.",
        "extracted_name": "فرش ماشینی ۶ متری با طرح افشان و زمینه کرم"
    },
    {
        "input": "من قصد دارم یک سرویس قابلمه گرانیتی ۱۰ پارچه مشکی خریداری کنم.",
        "extracted_name": "سرویس قابلمه گرانیتی ۱۰ پارچه مشکی"
    },
    {
        "input": "نیاز دارم به یک لوستر مدرن سه شاخه با حباب شیشه‌ای شفاف.",
        "extracted_name": "لوستر مدرن سه شاخه با حباب شیشه‌ای شفاف"
    },
    {
        "input": "یک شمع معطر با رایحه وانیل در ظرف شیشه‌ای درب‌دار می‌خواهم.",
        "extracted_name": "شمع معطر با رایحه وانیل در ظرف شیشه‌ای درب‌دار"
    },
    {
        "input": "می‌خواستم یک میز تلویزیون چوبی با رنگ گردویی و طراحی مدرن تهیه کنم.",
        "extracted_name": "میز تلویزیون چوبی با رنگ گردویی و طراحی مدرن"
    },
    {
        "input": "لطفاً برام یک فلاورباکس قلبی شکل پر از گل رز قرمز بیارید.",
        "extracted_name": "فلاورباکس قلبی شکل پر از گل رز قرمز"
    },
    {
        "input": "به دنبال خرید ماشین لباسشویی سامسونگ ۸ کیلویی مدل WW80 هستم.",
        "extracted_name": "ماشین لباسشویی سامسونگ ۸ کیلویی مدل WW80"
    },
    {
        "input": "یک ست لیوان شیشه‌ای دسته‌دار طرح لانه زنبوری می‌خواستم.",
        "extracted_name": "ست لیوان شیشه‌ای دسته‌دار طرح لانه زنبوری"
    },
    {
        "input": "می‌خواهم یک پرده زبرا با طرح گل‌های صورتی و کد X502 بگیرم.",
        "extracted_name": "پرده زبرا با طرح گل‌های صورتی و کد X502"
    },
    {
        "input": "یه بوفه شیشه‌ای کلاسیک قهوه‌ای رنگ برای پذیرایی لازم دارم.",
        "extracted_name": "بوفه شیشه‌ای کلاسیک قهوه‌ای رنگ"
    },
    {
        "input": "لطفاً یک ست سرویس خواب سفید طرح مدرن با دو عدد پاتختی بیارید.",
        "extracted_name": "ست سرویس خواب سفید طرح مدرن با دو عدد پاتختی"
    },
    {
        "input": "من نیاز دارم به یک قاب عکس رومیزی طلایی با ابعاد ۲۰ در ۳۰ سانتی‌متر.",
        "extracted_name": "قاب عکس رومیزی طلایی با ابعاد ۲۰ در ۳۰ سانتی‌متر"
    },
    {
        "input": "می‌خواهم یک دسته گل رز سفید و آلسترومریا بنفش برای جشن سفارش بدهم.",
        "extracted_name": "دسته گل رز سفید و آلسترومریا بنفش"
    },
    {
        "input": "یک گلدان سفالی دست‌ساز با لعاب آبی فیروزه‌ای می‌خواستم.",
        "extracted_name": "گلدان سفالی دست‌ساز با لعاب آبی فیروزه‌ای"
    },
    {
        "input": "یه تابلو نقاشی مدرن با ابعاد ۷۰ در ۱۰۰ سانتی‌متر می‌خوام.",
        "extracted_name": "تابلو نقاشی مدرن با ابعاد ۷۰ در ۱۰۰ سانتی‌متر"
    },
    {
        "input": "سفارش من شامل شمع استوانه‌ای مشکی مات با ارتفاع ۱۵ سانتی‌متره.",
        "extracted_name": "شمع استوانه‌ای مشکی مات با ارتفاع ۱۵ سانتی‌متر"
    },
    {
        "input": "می‌خواستم یک کمد لباس دو درب ام‌دی‌اف سفید بخرم.",
        "extracted_name": "کمد لباس دو درب ام‌دی‌اف سفید"
    },
    {
        "input": "یه لپ‌تاپ لنوو مدل ThinkPad X1 Carbon با رم ۱۶ گیگ می‌خواهم.",
        "extracted_name": "لپ‌تاپ لنوو مدل ThinkPad X1 Carbon با رم ۱۶ گیگ"
    },
    {
        "input": "یک ست ظرف پذیرایی کریستالی طرح الماس می‌خوام.",
        "extracted_name": "ست ظرف پذیرایی کریستالی طرح الماس"
    }
]
